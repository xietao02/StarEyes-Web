<!-- <template>
  <p>events</p>
  <div id="container" ref="container"></div>
</template>

<style>
#container {
  width: 500px;
  height: 500px;
}
</style>

<script>
import AMapLoader from "@amap/amap-jsapi-loader";
import { method } from "lodash";
import { shallowRef } from '@vue/reactivity'

export default {
  methods: {
    setup() {
      const map = shallowRef(null);
      return {
        map,
      };
    },
    initMap() {
      AMapLoader.load({
        key: "82c40fd8fb83a68e1513783c57ce7d3f", // 申请好的Web端开发者Key，首次调用 load 时必填
        version: "2.0", // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15
        plugins: [""], // 需要使用的的插件列表，如比例尺'AMap.Scale'等
      })
        .then((AMap) => {
          this.map = new AMap.Map("container", {
            //设置地图容器id
            viewMode: "3D", //是否为3D地图模式
            zoom: 5, //初始化地图级别
            center: [105.602725, 37.076636], //初始化地图中心点位置
          });
        })
        .catch((e) => {
          console.log(e);
        });
    },

		mounted() {
			this.initMap();
		},
  },
};
</script> -->
<template>
	<div class="home_div" style="height:100%">
			<div id="container"></div>
	</div>
</template>
<script>
import AMapLoader from "@amap/amap-jsapi-loader"
import { shallowRef } from '@vue/reactivity'
export default {
	name:"mapcomtaint",
	setup(){
			const map = shallowRef(null);
			return{
					map,
			}

	},
	create(){

	},
	methods:{
			ininMap(){
					AMapLoader.load({
							key:'82c40fd8fb83a68e1513783c57ce7d3f',  //设置您的key
							version:"2.0",
							plugins:['AMap.ToolBar','AMap.Driving'],
							AMapUI:{
									version:"1.1",
									plugins:[],

							},
							Loca:{
									version:"2.0.0"
							},
					}).then((AMap)=>{
							this.map = new AMap.Map("container",{
									viewMode:"3D",
									zoom:5,
									zooms:[2,22],
									center:[105.602725,37.076636],
							});

							for(let item of positionArr){
									let marker = new AMap.Marker({
											position:[item[0],item[1]],
									});
									this.map.add(marker);
							}


					}).catch(e=>{
							console.log(e);
					})
			},
			addMarker(){
					
			}
	},
	mounted(){
			//DOM初始化完成进行地图初始化
			this.ininMap();
	}
}
</script>
<style scope>
	.home_div{
			height: 100%;
			width: 100%;
			padding: 0px;
			margin: -29px 0 0 0px;
			position: relative;
	}
	#container{
			height: 47vh;
			width: 100%;
			padding: 0px;

	}

	h3{
			position:absolute;
			left: 10px;
			z-index: 2;
			color: white;
	}
	



</style>